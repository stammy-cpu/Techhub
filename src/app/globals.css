@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fonts / Icons */
@import url("https://fonts.googleapis.com/css2?family=Overlock:wght@400;700&family=Overlock+SC&display=swap");
@import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css");

/* Brand tokens (green system) */
:root {
  --brand:#28502E; /* navbar green */
  --accent:#2E3F30;
  --accent-2:#95A99B;
  --ink:#0B0F0C;
  --muted:#6B726C;
  --canvas:#ffffff;
  --soft:#F2F5F2;
  --line:#E2E7E2;
}

/* Utilities */
@layer utilities {
  .bg-canvas { background:var(--canvas) }
  .bg-soft { background:var(--soft) }
  .bg-brand { background:var(--brand) }
  .bg-accent { background:var(--accent) }
  .text-ink { color:var(--ink) }
  .text-muted { color:var(--muted) }
  .text-brand { color:var(--brand) }
  .text-accent { color:var(--accent) }
  .border-line { border-color:var(--line) }

  /* Float animation */
  @keyframes floatK { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-4px) } }
  .animate-float { animation: floatK 6s ease-in-out infinite; }
}

/* Components */
@layer components {
  .font-display { font-family:'Overlock SC',serif; }

  .btn { @apply inline-flex items-center justify-center rounded-md border px-4 py-2 text-sm transition; }
  .btn-brand { @apply btn border-transparent bg-brand text-white hover:bg-accent; }
  .btn-ghost { @apply btn border-line bg-white hover:bg-soft; }
  .btn-white { @apply btn bg-white text-ink hover:bg-soft; }
  .btn-outline-white { @apply btn border-white text-white hover:bg-white/10; }

  .pill { @apply inline-flex items-center gap-2 rounded-full border border-line bg-white/70 px-3 py-1; }
  .card { @apply rounded-xl border border-line bg-white p-4 shadow-sm transition hover:-translate-y-0.5; }
  .pub { @apply overflow-hidden rounded-xl border border-line bg-white shadow-sm transition hover:-translate-y-0.5; }
  .pub .cover { @apply aspect-[16/10] bg-soft; }

  .navlink { @apply text-sm text-ink opacity-80 hover:text-accent; }

  .field { @apply flex flex-col gap-1 text-sm; }
  .field input, .field textarea { @apply w-full rounded-md border border-line bg-white px-3 py-2 outline-none focus:ring-2 focus:ring-[var(--accent-2)]; }

  .faq { @apply mb-3 rounded-xl border border-line bg-white p-4 shadow-sm; }
  .faq > summary { @apply cursor-pointer font-medium; }
  .faq > p { @apply mt-2 text-sm text-muted; }

  /* ---------- NAVBAR HELPERS ---------- */

  /* inverted nav links on green bar */
  .navlink-invert { @apply text-sm text-white/90 hover:text-white; }

  /* dropdown container */
  .dropdown { @apply relative; }

  /* clickable trigger */
  .trigger {
    @apply inline-flex items-center gap-1 rounded-md px-2 py-1.5 text-sm text-white/90 hover:text-white transition;
  }
  .trigger:hover { @apply bg-white/10; }
  .trigger i { @apply text-[10px]; }

  /* dropdown panel */
  .menu {
    @apply absolute left-0 mt-2 min-w-56 rounded-lg border border-line bg-white p-2 shadow-xl ring-1 ring-black/5;
    @apply opacity-0 translate-y-1 pointer-events-none transition;
  }
  /* show when open */
  details[open] > .menu { @apply opacity-100 translate-y-0 pointer-events-auto; }

  /* dropdown items */
  .menu a {
    @apply block rounded-md px-3 py-2 text-sm text-ink hover:bg-soft;
  }

  /* nested submenu (flyout) */
  .submenu {
    @apply absolute top-0 left-full ml-2 min-w-56 rounded-lg border border-line bg-white p-2 shadow-xl ring-1 ring-black/5;
  }

  /* tiny badge on open to make it obvious */
  details[open] > summary .drop-badge {
    @apply ml-2 inline-flex items-center rounded-full bg-white/20 px-2 py-0.5 text-[10px] uppercase tracking-wide text-white;
    content: "Dropdown";
  }

  /* search input beside the button */
  .nav-search {
    @apply hidden md:inline-flex items-center;
  }
  .nav-search input {
    @apply h-9 w-56 rounded-md border border-white/25 bg-white/10 px-3 text-sm text-white placeholder:text-white/60 outline-none;
  }
  .nav-search input:focus { @apply border-white/40 bg-white/15; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; }
}
